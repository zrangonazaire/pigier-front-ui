<app-menu></app-menu>
<div class="caisse-journal-container">
  <h1>Journal de caisse IRS</h1>

  <div class="section">
    <h2>Campus</h2>
    <div class="campus-list">
      @for (campus of campuses; track campus) {
        <div
          [class.selected]="isCampusSelected(campus)"
          (click)="toggleCampusSelection(campus)">
          {{campus}}@if (campus === 'ABIDJAN PLATEAU' || campus === 'FOAD' || campus === 'YAMOUSSOUKRO') {
          <span>*</span>
        }
      </div>
    }
  </div>
  @if (selectedCampuses.length > 0) {
    <div class="selected-campuses">
      Sélectionné(s): {{selectedCampuses.join(', ')}}
    </div>
  }
</div>
<!-- Section Encaissement indépendante -->
<div class="section">
  <h3>Encaissement</h3>
  <div class="option-list">
    @for (enc of encaissements; track enc) {
      <div
        [class.selected]="enc === selectedEncaissement"
        (click)="selectedEncaissement = enc">
        {{enc}}
      </div>
    }
  </div>
</div>

<div class="section">
  <h4>Par date</h4>
  <div class="option-list">
    @for (filtre of filtres; track filtre) {
      <div
        [class.selected]="filtre === selectedFiltre"
        (click)="selectedFiltre = filtre">
        {{filtre}}
      </div>
    }
  </div>
</div>

<div class="section">
  <h4>Mode règlement</h4>
  <div class="option-list">
    @for (mode of modesReglement; track mode) {
      <div
        [class.selected]="mode === selectedModeReglement"
        (click)="selectedModeReglement = mode">
        {{mode}}
      </div>
    }
  </div>
</div>

<div class="section inline-section">
  <h4>Caisse:</h4>
  <input type="number" [(ngModel)]="caisseNumber" min="1">
</div>

<div class="section inline-section">
  <h4>Date:</h4>
  <input type="date" [(ngModel)]="selectedDate">
</div>

<div class="section">
  <h4>Impression par caissière</h4>
  <div class="button-group">
    <button class="print-btn">Impression directe</button>
    <button class="close-btn">Fermer</button>
  </div>
</div>
</div>
